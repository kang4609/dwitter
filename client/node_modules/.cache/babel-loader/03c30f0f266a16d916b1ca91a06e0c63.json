{"ast":null,"code":"export default class TweetService {\n  constructor(http, tokenStorage) {\n    this.http = http;\n    this.tokenStorage = tokenStorage;\n  }\n\n  async getTweets(username) {\n    const query = username ? `?username=${username}` : '';\n    return this.http.fetch(`/tweets${query}`, {\n      method: 'GET',\n      headers: this.getHeaders()\n    });\n  }\n\n  async postTweet(text) {\n    return this.http.fetch(`/tweets`, {\n      method: 'POST',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        text,\n        userId: 'userId'\n      })\n    });\n  }\n\n  async deleteTweet(tweetId) {\n    return this.http.fetch(`/tweets/${tweetId}`, {\n      method: 'DELETE',\n      headers: this.getHeaders()\n    });\n  }\n\n  async updateTweet(tweetId, text) {\n    return this.http.fetch(`/tweets/${tweetId}`, {\n      method: 'PUT',\n      headers: this.getHeaders(),\n      body: JSON.stringify({\n        text\n      })\n    });\n  }\n\n  getHeaders() {\n    const token = this.tokenStorage.getToken();\n    console.log(`Bearer ${token}`);\n    return {\n      Authorization: `Bearer ${token}`\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/yeoungseurkang/projects/node/dwitter/client/src/service/tweet.js"],"names":["TweetService","constructor","http","tokenStorage","getTweets","username","query","fetch","method","headers","getHeaders","postTweet","text","body","JSON","stringify","userId","deleteTweet","tweetId","updateTweet","token","getToken","console","log","Authorization"],"mappings":"AAAA,eAAe,MAAMA,YAAN,CAAmB;AAC9BC,EAAAA,WAAW,CAACC,IAAD,EAAOC,YAAP,EAAqB;AAC5B,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACH;;AAEc,QAATC,SAAS,CAACC,QAAD,EAAW;AACtB,UAAMC,KAAK,GAAGD,QAAQ,GAAI,aAAYA,QAAS,EAAzB,GAA6B,EAAnD;AACA,WAAO,KAAKH,IAAL,CAAUK,KAAV,CAAiB,UAASD,KAAM,EAAhC,EAAmC;AACtCE,MAAAA,MAAM,EAAE,KAD8B;AAEtCC,MAAAA,OAAO,EAAE,KAAKC,UAAL;AAF6B,KAAnC,CAAP;AAIH;;AAEc,QAATC,SAAS,CAACC,IAAD,EAAO;AAClB,WAAO,KAAKV,IAAL,CAAUK,KAAV,CAAiB,SAAjB,EAA2B;AAC9BC,MAAAA,MAAM,EAAE,MADsB;AAE9BC,MAAAA,OAAO,EAAE,KAAKC,UAAL,EAFqB;AAG9BG,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEH,QAAAA,IAAF;AAAQI,QAAAA,MAAM,EAAE;AAAhB,OAAf;AAHwB,KAA3B,CAAP;AAKH;;AAEgB,QAAXC,WAAW,CAACC,OAAD,EAAU;AACvB,WAAO,KAAKhB,IAAL,CAAUK,KAAV,CAAiB,WAAUW,OAAQ,EAAnC,EAAsC;AACzCV,MAAAA,MAAM,EAAE,QADiC;AAEzCC,MAAAA,OAAO,EAAE,KAAKC,UAAL;AAFgC,KAAtC,CAAP;AAIH;;AAEgB,QAAXS,WAAW,CAACD,OAAD,EAAUN,IAAV,EAAgB;AAC7B,WAAO,KAAKV,IAAL,CAAUK,KAAV,CAAiB,WAAUW,OAAQ,EAAnC,EAAsC;AACzCV,MAAAA,MAAM,EAAE,KADiC;AAEzCC,MAAAA,OAAO,EAAE,KAAKC,UAAL,EAFgC;AAGzCG,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEH,QAAAA;AAAF,OAAf;AAHmC,KAAtC,CAAP;AAKH;;AAEDF,EAAAA,UAAU,GAAG;AACT,UAAMU,KAAK,GAAG,KAAKjB,YAAL,CAAkBkB,QAAlB,EAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAa,UAASH,KAAM,EAA5B;AACA,WAAO;AACHI,MAAAA,aAAa,EAAG,UAASJ,KAAM;AAD5B,KAAP;AAGH;;AA3C6B","sourcesContent":["export default class TweetService {\n    constructor(http, tokenStorage) {\n        this.http = http;\n        this.tokenStorage = tokenStorage;\n    }\n\n    async getTweets(username) {\n        const query = username ? `?username=${username}` : '';\n        return this.http.fetch(`/tweets${query}`, {\n            method: 'GET',\n            headers: this.getHeaders(),\n        });\n    }\n\n    async postTweet(text) {\n        return this.http.fetch(`/tweets`, {\n            method: 'POST',\n            headers: this.getHeaders(),\n            body: JSON.stringify({ text, userId: 'userId' }),\n        });\n    }\n\n    async deleteTweet(tweetId) {\n        return this.http.fetch(`/tweets/${tweetId}`, {\n            method: 'DELETE',\n            headers: this.getHeaders(),\n        });\n    }\n\n    async updateTweet(tweetId, text) {\n        return this.http.fetch(`/tweets/${tweetId}`, {\n            method: 'PUT',\n            headers: this.getHeaders(),\n            body: JSON.stringify({ text }),\n        });\n    }\n\n    getHeaders() {\n        const token = this.tokenStorage.getToken();\n        console.log(`Bearer ${token}`);\n        return {\n            Authorization: `Bearer ${token}`,\n        };\n    }\n}\n"]},"metadata":{},"sourceType":"module"}